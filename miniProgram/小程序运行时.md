## 运行环境
- ios微信客户端
- Android微信客户端
- PC微信客户端
- Mac微信客户端
- 微信开发者工具

| 平台 | 脚本执行环境 | 渲染非原生组件的环境 |
| ---- | ----------- | ------------------ |
| ios  | Javascriptcore | WkWebview |
| android | V8  |  XWeb引擎基于Mobile Chrome |
| 开发者工具 | NW.js | Chromium Webview |



## 平台差异
各运行环境十分相似，但仍有些许区别
开发者工具仅供调试使用，最终的表现以客户端为准



## JS支持情况
- 不支持动态执行JS代码 【eval, new Function】
- 已支持绝大部分ES6 API

## 运行机制
- 前台：小程序启动后，展示出界面，即处于前台。
- 后台：右上角关闭或Home键离开微信，小程序并没有终止，而是进入后台状态，小程序还可运行一小段时间。
- 当再次进入微信或打开小程序，又从后台进入前台。

## 启动
- 冷启动：首次打开或销毁后再次打开，即需要重新加载启动
- 热启动：已经打开过，只是从后台切换到前台状态，即热启动

## 销毁时机
- 进入后台一定时间
- 系统资源占用过高

## 启动场景分类
- A.保留上次的浏览状态
- B.relaunch 到指定页或首页

## 退出状态
- 销毁前，在onSaveExitState保存数据，下次启动时可用 exitState 获取保存数据。

## 更新机制
- 未启动时更新
  * 本地有历史版本，会在若干个时机，更新版本
  * 最差的情况下，也会在发布后24h发新版本信息到用户，用户下次打开会先更新最新版本再打开

- 启动时更新
  * 每次冷启动，都会检测是否有新版本。有则异步下载，并同时用本地包启动。小程序新版本要等下一次启动才会用上
  * 如需立即用最新版本，可用 wx.getUpdateManager API进行处理


