## HMTL、CSS和JavaScript是如何变成页面
1.构建DOM树 【HTML解析器】
2.样式计算
  * 把CSS转换为浏览器能理解的结构
  * 装换样式表中的属性值，使其标准化
  * 计算出DOM树中每个节点的具体样式
3.布局阶段
  * 创建布局树
    - 遍历DOM树中所有可见的节点，并把这些节点加到布局中
    - 不可见的节点会被布局树忽略掉
  * 布局计算
    - 计算布局树节点的坐标位置
4.分层
  * 【每个节点都会直接或间接从属于一个层】
  * 拥有层叠上下文性的元素会被提升为单独的一层
  * 需要裁剪的地方也会被创建为图层
5.图层绘制
6.栅格化操作
7.合成和显示


## 完整的渲染流程
1.渲染进程将HTML转换为浏览器能理解的DOM树；
2.渲染引擎将css样式表转为浏览器能读懂的styleSheets,计算出节点的样式；
3.创建布局树，并计算出元素的位置信息；
4.对布局进行分层，并生成分层树；
5.为每个图层生成绘制列表，并将其提交到合成线程；
6.合成线程将图层分成图块，并在光栅格化线程池将图块转换成位图；（图层-》图块-》位图）
7.合成线程发送绘制图块命令DrawQuad给浏览器进程；
8.浏览器进程根据DrawQuad消息生成页面，并显示在显示器上。

## 相关概念
重排：更改了元素的几何属性，触发重新布局 （如修改宽高等）
重绘：更新了元素的绘制属性，省去了布局、分层阶段，直接介入绘制。 （如修改背景）
直接合成阶段：避开了布局和绘制阶段（如使用transform实现动画）